/***********************************************************************************
  Filename:     hal_pwm.c

  Description:  
                

***********************************************************************************/

/***********************************************************************************
* INCLUDES
*/
#include "../mcc_generated_files/nco/nco1.h"
#include "hal_board_cfg.h"

#include "hal_pwm.h"

/***********************************************************************************
 * CONSTANTS
 */

/***********************************************************************************
 * MACROS
 */

/***********************************************************************************
* GLOBAL VARIABLES
*/

/***********************************************************************************
* LOCAL VARIABLES
*/

/***********************************************************************************
* LOCAL FUNCTIONS
*/

/***********************************************************************************
* GLOBAL FUNCTIONS
*/


/***********************************************************************************
* LOCAL FUNCTIONS
*/


/***********************************************************************************
 *  @fn   
 *  @brief    
 *  @param    freq     -   108  (108��2.5 KHz)
 *            percent  -   50
 *            value = 20000/freq = [180, 189]
 *  @return   
 */
//void PWM_Setup( uint8 freq, uint8 percent )
void PWM_Setup( uint8_t freq, uint8_t idx )
{
	if ( freq == PWM_183K ){
    }
	NCO1_Initialize();
}

void PWM_Start( void )
{
    CWG1CON0 = 0x84;
	NCO1CONbits.EN = 1;
}

void PWM_Stop( void )
{
    CWG1CON0 = 0x80;   // 0x85;            // CWG1A/B output low
	NCO1CONbits.EN = 0;
}
